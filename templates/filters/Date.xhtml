<!DOCTYPE html>
<html lang="en" xmlns="http://www.w3.org/1999/xhtml" xmlns:xt="http://ns.inria.org/xtiger" xml:lang="en">
  <head>                  
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />

    <title>The "date" filter</title>
  
    <xt:head version="1.1" templateVersion="1.0" label="Demo">
    </xt:head>

    <!-- BEGIN transformation -->
    <link rel="stylesheet" type="text/css" 
          href="../../3rd-part/jquery/css/ui-lightness/jquery-ui-1.8.18.custom.css"  charset="utf-8" />
    <link rel="stylesheet" type="text/css" href="../../axel/axel.css"></link>

    <script type="text/javascript" src="../../3rd-part/jquery/js/jquery-1.7.1.min.js"></script>
    <script type="text/javascript" src="../../3rd-part/jquery/js/jquery-ui-1.8.18.custom.min.js"></script>
    <script type="text/javascript" src="../../axel/axel.js"></script>

    <script type="text/javascript">
      var form;
      function init() {
        var today, dates;
        form = new xtiger.util.Form('../axel/bundles');
        form.setTemplateSource(document);
        form.enableTabGroupNavigation();
        if (! form.transform()) {
          alert(this .form.msg);
        } else {
          today = $.datepicker.formatDate('dd/mm/yy', new Date())
          dates = $axel('#x-Todate');
          dates.get(0).configure('maxDate', today);
          dates.get(0).update(today);
        }
      }
      xtdom.addEventListener(window,  'load', init, false);
    </script>
    <!-- END transformation -->
    
    <!-- template enrichment : extracts and generates xt:attribute and xt:use sample code -->
    <link rel="stylesheet" type="text/css" href="../shared/demo.css" />
    <script type="text/javascript" charset="utf-8" src="../shared/demo.js">//</script>        
  </head>
  <body>
    
    <p class="warning">WARNING: this is a self-transformed template that can only be used with jQuery/jQuery-ui/AXEL libraries sitting in the parent window because of jQuery datepicker limitations</p>
  
    <h1>The "date" filter</h1>
  
    <p><b>Goal</b> : select a date using a calendar or the keyboard</p>
  
    <h2>The "date" filter on "text" plugin</h2>
  
    <p>In this example the calendar region (<samp>date_region</samp> parameter) and format (parameter <samp>date_format</samp>) are set to "fr" and "ISO_8601".</p>
    
    <p><i>The <samp>maxData</samp> parameter is not implemented yet.</i></p>

    <div class="demo extract">
      <p id="x-Todate">Date : 
        <xt:use types="text" label="Date" param="filter=date;date_region=fr;date_format=ISO_8601;maxDate=today"/>
      </p>
    </div>
  </body> 
</html>
